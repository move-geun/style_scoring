# 스타일 매력도 점수 도구

지누스별로 스타일의 매력도 점수를 좌표 기반으로 기록하고 관리하는 도구입니다.

## 설치 및 실행

```bash
cd style_scoring_app
npm install
npm run dev
```

브라우저에서 `http://localhost:5173`으로 접속하세요.

## 사용 방법

1. **지누스 선택**: 상단에서 평가할 지누스(genus_01 ~ genus_18)를 선택합니다.
2. **온도 입력**: 현재 기온을 입력합니다 (추후 필터링에 사용).
3. **스타일 세트 선택**: A (X-Y 축) 또는 B (X-Z 축)를 선택합니다.
4. **그래프 클릭**: 그래프에서 좌표를 클릭하면 해당 좌표에 가까운 스타일들이 추천됩니다.
5. **점수 입력**: 우측 패널에서 매력도 점수(0-100)와 메모를 입력하고 저장합니다.
6. **스타일 선택**: 추천된 스타일 중에서 선택한 스타일 ID가 저장됩니다.
7. **저장/불러오기**: 상단의 "저장" 버튼으로 JSON 파일을 다운로드하거나, "불러오기"로 이전 작업을 불러옵니다.

## 기능

- **좌표 기반 점수 기록**: 그래프에서 클릭한 좌표에 매력도 점수를 기록합니다.
- **추천 알고리즘**: 클릭한 좌표와 유클리드 거리가 가까운 스타일을 5순위까지 추천합니다.
- **등고선 표시**: 동일 거리(동일 순위)의 스타일들을 같은 색으로 표시하고, hover 시 해당 순위의 스타일들을 보여줍니다.
- **점수 관리**: 같은 좌표를 다시 클릭하면 기존 점수를 수정할 수 있습니다.
- **지누스별 저장**: 각 지누스별로 별도의 JSON 파일로 저장됩니다.

## 파일 구조

- `src/types.ts`: 타입 정의
- `src/utils.ts`: 유틸리티 함수 (좌표 정규화, 거리 계산 등)
- `src/dataLoader.ts`: 데이터 로드/저장 함수
- `src/components/StyleGraph.tsx`: 그래프 컴포넌트
- `src/components/RecommendedStylesPanel.tsx`: 추천 스타일 패널
- `src/components/ScoreInputPanel.tsx`: 점수 입력 패널
- `src/App.tsx`: 메인 앱 컴포넌트

## 데이터 형식

저장되는 JSON 파일 형식:

```json
{
  "genus": "genus_01",
  "updated_at": "2025-11-25T12:34:56+09:00",
  "style_sets": {
    "A": {
      "axes": ["x", "y"],
      "temperature": 0,
      "points": [
        {
          "coord": { "x": 0.12345, "y": -0.54321 },
          "score": 78,
          "note": "테스트 메모",
          "picked_style_ids": [3236, 2775]
        }
      ]
    },
    "B": {
      "axes": ["x", "z"],
      "temperature": 0,
      "points": []
    }
  }
}
```

## 주의사항

- 마스터 스타일 JSON 파일(`style_master.json`)은 `public` 폴더에 있어야 합니다.
- 좌표는 소수 5자리까지 정밀하게 처리됩니다.
- 같은 좌표에 점수를 다시 저장하면 기존 점수가 수정됩니다.
